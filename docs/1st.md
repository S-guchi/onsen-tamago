# 🥚 温泉卵ブレスト – 実装タスク指示書（main ブランチ運用）

あなたは GitHub リポジトリ上で動く自律型コーディングエージェントです。
以下の仕様・ルールを厳守しながら、タスクを **1 つずつ** 進めてください。

## 0. 共通ルール

- すべて **main ブランチ** へ直接コミットする。順序はタスク番号に従う。
- 各タスク完了ごとに “Atomic” なコミットを行い、コミットメッセージは
  `[#1-3] useCountdown Hook 実装` のようにタスク番号 + 要約とする。

## 1. プロジェクト初期化

| #   | 種別  | 内容 | Done の定義 |
|-----|------|------|-------------|
| 0-1 | chore | `/data/words.json` に 300 以上の日本語名詞を追加 | JSON が valid で import 可能 |

## 2. 開発タスク

| #   | 種別 | 内容 | 依存 | Done の定義 |
|-----|-----|------|------|-------------|
| 1-1 | feat | スタート画面 (`pages/index.tsx`) – 温泉卵画像と Start ボタン | 0-1 | クリックで `/session` へ |
| 1-2 | feat | セッション画面骨格（吹き出し・入力欄・残り時間） | 1-1 | レイアウト完成 |
| 1-3 | feat | `useCountdown(300)` Hook | 1-2 | 1 秒毎に state 更新 |
| 1-4 | feat | `getRandomPair()` – 非重複ペア生成 | 0-2 | 50 ペア重複無し単体テスト |
| 1-5 | feat | 吹き出し表示ロジック（1–2 秒間隔） | 1-3,1-4 | 5 分で 150+ ペア表示 |
| 1-6 | feat | ユーザー入力保存配列 `responses[]` | 1-5 | コンソール確認 |
| 1-7 | feat | Enter 送信 / 入力欄クリア | 1-6 | 連投試験パス |
| 1-8 | feat | Skip ボタン実装 | 1-6 | タイマー継続で次ペア |
| 2-1 | feat | タイムアップで `/result` 遷移 | 1-3,1-6 | 5:00 で自動遷移 |
| 2-2 | feat | `buildMarkdown(responses)` | 2-1 | 例外なし整形 |
| 2-3 | feat | Markdown コピー (`navigator.clipboard`) | 2-2 | Toast “Copied!” |
| 2-4 | feat | `html2canvas` で PNG ダウンロード | 2-1 | 保存確認 |

## 3. UI / アニメーション

| #   | 種別 | 内容 | Done の定義 |
|-----|-----|------|-------------|
| 3-1 | ui  | 温泉卵ぷかぷか＆湯気アニメ（CSS keyframes） | Chrome / Safari で再生 |
| 3-2 | ui  | 円形残り時間リング (SVG or CSS) | 0 秒でフル消灯 |

## 4. テスト

| #   | 種別 | 内容 | Done の定義 |
|-----|-----|------|-------------|
| 4-1 | test | Jest：ワードペア・Markdown・タイマー | `npm test` パス |
| 4-2 | test | Playwright：Start→Result 通し | CI で green |

### 参考ファイル

- `README.md`
- `public/onsen-tamago.png`

---
**指示は以上です。** タスク番号順にコミットを積み上げてください。
